<html>
    <head>

    </head>
    <body>
        <button onclick="subscribe()"> Notification </button>
        <script>
            addEventListener('load', async() =>{
                let sw= await navigator.serviceWorker.register('./sw.js')
                console.log(sw)
            })
            async function subscribe(){
                let sw= await navigator.serviceWorker.ready;
                let push= await sw.pushManager.subscribe({
                    userVisibleOnly: true,
                    applicationServerKey:'BFHSpH8xiBfJQyScs96Rqpd9V_vz_FWHCFYDb_BHEI5NUdJ-JG8NYdCRs4KzgPjvuWm68trYrkRerG_mzWtV1gE'
                    
                })
                console.log(JSON.stringify(push))
            }
        </script>
    </body>
</html>